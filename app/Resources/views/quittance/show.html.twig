{% extends '::base.html.twig' %}
{% block menu -%}
{% include '::visite/menu.html.twig' %}
{% endblock %}
{% block menu_caisse_actif %}active{% endblock %}
{% block ariane -%}
    <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{{ path('homepage') }}">Accueil</a></li>
          <li class="breadcrumb-item"><a href="{{ path('visite_quittance') }}">Quittance</a></li>
          <li class="breadcrumb-item">Détail de la Quittance</li>
    </ol>
{% endblock %}
{% block pagetitle -%}VOIR UNE QUITTANCE{% endblock %}
{% block actions %}
    <label class="btn btn-outline-secondary"><a href="{{ path('visite_quittance') }}">Liste des quittances</a></label>
    <label class="btn btn-outline-secondary"><a target="_blank" href="{{ path('quittance_imprim', { 'id': quittance.id }) }}">Imprimer</a></label>
    <label class="btn btn-outline-secondary">
        {% if quittance.paye %}<a href="#">Rembourser</a>
        {% else %}<a onclick="return confirm('Veuiller confirmer l\'encaissement de la quittance N° {{quittance.numero}}');" href="{{ path('caisse_quittance_encaisser', { 'id': quittance.id }) }}">ENCAISSER</a>
        {% endif %}
    </label>
{% endblock %}
{% block body %}
    <table class="table table-hover">
        <tbody>
            <tr>
                <th>Numero</th>
                <td>{{ quittance.numero }}</td>
            </tr>
            <tr>
                <th>Véhicule</th>
                <td>{{ quittance.visite.vehicule.immatriculation }}</td>
            </tr>
            <tr>
                <th>Type</th>
                <td>{% if quittance.visite.revisite %}REVISITE{% else %}NORMALE{% endif %}</td>
            </tr>
            <tr>
                <th>Retard</th>
                <td>{{ quittance.retard|number_format(0, ',', ' ') }} Jours</td>
            </tr>
            <tr>
                <th>Pénalité</th>
                <td>{{ quittance.penalite|number_format(0, ',', ' ') }}</td>
            </tr>
            <tr>
                <th>Montant visite</th>
                <td>{{ quittance.montantVisite|number_format(0, ',', ' ') }}</td>
            </tr>
            <tr>
                <th>ETAT</th>
                <td>{% if quittance.paye %}PAYEE{% else %}OUVERTE{% endif %}</td>
            </tr>
            <tr>
                <th>Caisse</th>
                <td>{{ quittance.visite.chaine.caisse.numero }}</td>
            </tr>
            <tr>
                <th>Créé par</th>
                <td>{{ quittance.creePar }}</td>
            </tr>
            <tr>
                <th>Modifié par</th>
                <td>{{ quittance.modifierPar }}</td>
            </tr>
            <tr>
                <th>Date de création</th>
                <td>{% if quittance.dateCreation %}{{ quittance.dateCreation|date('Y-m-d H:i:s') }}{% endif %}</td>
            </tr>
            <tr>
                <th>Date de dernière modification</th>
                <td>{% if quittance.dateModification %}{{ quittance.dateModification|date('Y-m-d H:i:s') }}{% endif %}</td>
            </tr>
        </tbody>
    </table>
{% endblock %}
